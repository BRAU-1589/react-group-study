11.3 리덕스의 세 가지 규칙<br/>
리덕스를 프로젝트에서 사용할 때 지켜야 하는 세 가지 규칙이 있습니다.<br/>

 

 

 
<br/>
16.3.1 단일 스토어<br/>
하나의 애플리케이션 안에는 하나의 스토어가 있습니다.<br/>
 여러 개의 스토어를 사용할 수도 있지만, <br/>
 상태 관리가 복잡해질 수 있기 때문에 권장하지 않습니다.<br/>

 

 

 

16.3.2 읽기 전용 상태
리덕스 상태는 읽기 전용입니다. <br/>

기존 리액트에서 setState를 사용하여 state를 업데이트할 때 <br/>
불변성을 지키기 위해 spread 연산자를 사용하거나 <br/>
immer 같은 불변성 관리 라이브러리를 사용하였는데, <br/>
리덕스도 마찬가지입니다. <br/>
상태를 업데이트할 때 기존의 객체는 건드리지 않고 새로운 객체를 생성해야 합니다.<br/>

리덕스에서 불변성을 유지해야 하는 이유는 데이터 변경을 감지하기 위해 얕은 비교 검사를 하기 때문입니다. 그래야 좋은 성능을 유지할 수 있기 때문입니다.

 

<br/><br/> 

 

16.3.3 리듀서는 순수한 함수<br/>
변화를 일으키는 리듀서 함수는 순수한 함수여야 합니다. <br/>
순수한 함수란 다음 조건을 만족합니다.<br/>
<br/>
함수는 이전 상태와 액션 객체를 파라미터로 받는다.<br/>
파라미터 외의 값은 의존하지 않는다.<br/>
이전 상태는 건드리지 않고, 변화 준 새로운 상태 객체를 만들어서 반환한다.<br/>
같은 파라미터로 호출된 함수는 언제나 같은 결과 값을 반환한다.<br/>
리듀서를 작성할 땐 위의 네 가지 사항을 주의해야 합니다. <br/>
함수 내부에서 랜덤 값을 만들거나, <br/>
외부 함수에서 값을 가져오거나, <br/>
네트워크 요청 등을 한다면 파라미터가 같아도 다른 결과를 만들어 낼 수 있기 때문에 <br/>
순수한 함수가 아니게 됩니다. <br/>
<br/>
이러한 작업은 리듀서 함수 밖(액션 제작, 리덕스 미들웨어 등)에서 처리해야 합니다.<br/>

 

 