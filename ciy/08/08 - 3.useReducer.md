8. 3 useReducer
   useReducer는 useState보다 더 다양한 컴포넌트 상황에 따라 다양한 상태를 다른 값으로 업데이트할 때 사용하는 Hook입니다. 리듀서(reducer)라는 개념은 17장에서 보다 자세히 다룰 예정입니다. 리듀서는 현재 상태, 그리고 업데이트를 위해 필요한 정보를 담은 액션 값을 전달받아 새로운 상태를 반환하는 함수입니다. 리듀서 함수에서 새로운 상태를 만들 때는 반드시 불변성을 지켜 주어야 합니다. 즉, 불변성을 지키면서 업데이트한 새로운 상태를 반환하는 함수입니다. 17장에서 다룰 리덕스에서 사용하는 액션 객체에는 어떤 액션인지 알려 주는 type 필드가 꼭 있어야 하나, useReducer에서 사용하는 액션 객체는 반드시 type을 지닐 필요는 없습니다. 또, 객체가 아니라 문자열, 숫자여도 상관없습니다.







8.3.1 카운터 구현하기
useReducer를 사용하여 Counter.js를 다시 구현하고 App 컴포넌트에도 렌더링합시다.

//src/Counter.js

import React, {useReducer} from 'react'; //useReducer 불러오기
function reducer(state, action){
switch (action.type){ //action.type에 따라 return
case 'INCREMENT':
return{value: state.value +1};
case 'DECREMENT':
return{value: state.value -1};
default: //해당하는 action.type이 없으면 기존 상태 return
return state;
}
}
const Counter = () => {
const [state, dispatch] = useReducer(reducer, {value: 0});

    return(
        <div>
            <p>현재 카운터 값은 <b>{state.value}</b>입니다.</p>
            <button onClick={()=>dispatch({type: 'INCREMENT'})}>+1</button>
            <button onClick={()=>dispatch({type: 'DECREMENT'})}>-1</button>
        </div>
    );
};

export default Counter;
//src/App.js

import Counter from './Counter';

const App = () => {
return <Counter />;;
};

export default App;
useReducer의 첫 번째 파라미터에는 리듀서 함수를 넣고, 두 번째 파라미터에는 해당 리듀서의 기본값을 넣습니다. 이 Hook을 사용하면 state 값과 dispatch 함수를 받아오는데, 여기서 state는 현재 가리키고 있는 상태고, dispatch는 액션을 발생시키는 함수입니다. dispatch(action)과 같은 형태로 함수 안에 파라미터로 액션 값을 넣어 주면 리듀서 함수가 호출됩니다. useReducer를 사용하였을 때 가장 큰 장점은 컴포넌트 업데이트 로직을 컴포넌트 바깥으로 뺄 수 있다는 것입니다.







8.3.2 인풋 상태 관리하기
이번에는 useReducer를 사용하여 Info 컴포넌트에서 인풋 상태를 관리해 보겠습니다. 기존에는 인풋이 여러 개여서 useState를 여러 번 사용하였는데, useReducer를 사용하면 기존 클래스형 컴포넌트에서 input 태그에 name 값을 할당하고 e.target.name을 참조하여 setState를 해준 것과 유사하게 처리할 수 있습니다. Info.js를 다시 구현하고 App 컴포넌트에도 렌더링합시다.

```javascript
//src/Info.js

import React, {useReducer} from 'react'; //useReducer 불러오기
  
function reducer(state, action){
   return {
      ...state,
      [action.name]: action.value
   };
}

const Info = () => {
const [state, dispatch] = useReducer(reducer, {
name: '',
nickname: ''
});
const {name, nickname} = state;
const onChange = e => {
dispatch(e.target);
};

    return(
        <div>
            <div>
                <input name="name" value={name} onChange={onChange} />
                <input name="nickname" value={nickname} onChange={onChange} />
            </div>
            <div>
                <div>
                    <b>이름: </b> {name}
                </div>
                <div>
                    <b>닉네임: </b> {nickname}
                </div>
            </div>
        </div>
    );
};

export default Info;
```

```javascript
//src/App.js

import Info from './Info';

const App = () => {
    return <Info />;;
};

export default App;
```